!function(m,g,b,y){"use strict";if(!b)return;var t,s={speed:330,loop:!0,opacity:"auto",margin:[44,0],gutter:30,infobar:!0,buttons:!0,slideShow:!0,fullScreen:!0,thumbs:!0,closeBtn:!0,smallBtn:"auto",image:{preload:"auto",protect:!1},baseClass:"",slideClass:"",baseTpl:'<div class="umfancybox-container" role="dialog" tabindex="-1"><div class="umfancybox-bg"></div><div class="umfancybox-controls"><div class="umfancybox-infobar"><button data-umfancybox-previous class="umfancybox-button umfancybox-button--left" title="Previous"></button><div class="umfancybox-infobar__body"><span class="js-umfancybox-index"></span>&nbsp;/&nbsp;<span class="js-umfancybox-count"></span></div><button data-umfancybox-next class="umfancybox-button umfancybox-button--right" title="Next"></button></div><div class="umfancybox-buttons"><button data-umfancybox-close class="umfancybox-button umfancybox-button--close" title="Close (Esc)"></button></div></div><div class="umfancybox-slider-wrap"><div class="umfancybox-slider"></div></div><div class="umfancybox-caption-wrap"><div class="umfancybox-caption"></div></div></div>',spinnerTpl:'<div class="umfancybox-loading"></div>',errorTpl:'<div class="umfancybox-error"><p>The requested content cannot be loaded. <br /> Please try again later.<p></div>',closeTpl:'<button data-umfancybox-close class="umfancybox-close-small"></button>',parentEl:"body",touch:!0,keyboard:!0,focus:!0,closeClickOutside:!0,beforeLoad:b.noop,afterLoad:b.noop,beforeMove:b.noop,afterMove:b.noop,onComplete:b.noop,onInit:b.noop,beforeClose:b.noop,afterClose:b.noop,onActivate:b.noop,onDeactivate:b.noop},u=b(m),i=b(g),a=0,o=function(t){return t&&t.hasOwnProperty&&t instanceof b},v=m.requestAnimationFrame||m.webkitRequestAnimationFrame||m.mozRequestAnimationFrame||function(t){m.setTimeout(t,1e3/60)},r=function(t,e,n){var o=this;o.opts=b.extend(!0,{index:n},s,e||{}),o.id=o.opts.id||++a,o.group=[],o.currIndex=parseInt(o.opts.index,10)||0,o.prevIndex=null,o.prevPos=null,o.currPos=0,o.firstRun=null,o.createGroup(t),o.group.length&&(o.$lastFocus=b(g.activeElement).blur(),o.slides={},o.init(t))};function e(t){var e=t.currentTarget,n=t.data?t.data.options:{},o=t.data?t.data.items:[],s="",i=0;t.preventDefault(),t.stopPropagation(),b(e).attr("data-umfancybox")&&(s=b(e).data("umfancybox")),s?i=(o=o.length?o.filter('[data-umfancybox="'+s+'"]'):b("[data-umfancybox="+s+"]")).index(e):o=[e],b.umfancybox.open(o,n,i)}b.extend(r.prototype,{init:function(){var t,e,n=this;n.scrollTop=i.scrollTop(),n.scrollLeft=i.scrollLeft(),b.umfancybox.getInstance()||(t=b("body").width(),b("html").addClass("umfancybox-enabled"),b.umfancybox.isTouch||1<(t=b("body").width()-t)&&b('<style id="umfancybox-noscroll" type="text/css">').html(".compensate-for-scrollbar, .umfancybox-enabled body { margin-right: "+t+"px; }").appendTo("head")),e=b(n.opts.baseTpl).attr("id","umfancybox-container-"+n.id).data("FancyBox",n).addClass(n.opts.baseClass).hide().prependTo(n.opts.parentEl),n.$refs={container:e,bg:e.find(".umfancybox-bg"),controls:e.find(".umfancybox-controls"),buttons:e.find(".umfancybox-buttons"),slider_wrap:e.find(".umfancybox-slider-wrap"),slider:e.find(".umfancybox-slider"),caption:e.find(".umfancybox-caption")},n.trigger("onInit"),n.activate(),n.current||n.jumpTo(n.currIndex)},createGroup:function(t){var c=this,e=b.makeArray(t);b.each(e,function(t,e){var n,o,s,i={},a={},r=[];b.isPlainObject(e)?a=(i=e).opts||{}:"object"===b.type(e)&&b(e).length?(a="options"in(r=(n=b(e)).data())?r.options:{},a="object"===b.type(a)?a:{},i.type="type"in r?r.type:a.type,i.src="src"in r?r.src:a.src||n.attr("href"),a.width="width"in r?r.width:a.width,a.height="height"in r?r.height:a.height,a.thumb="thumb"in r?r.thumb:a.thumb,a.selector="selector"in r?r.selector:a.selector,"srcset"in r&&(a.image={srcset:r.srcset}),a.$orig=n):i={type:"html",content:e+""},i.opts=b.extend(!0,{},c.opts,a),o=i.type,s=i.src||"",o||(i.content?o="html":s.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?o="image":s.match(/\.(pdf)((\?|#).*)?$/i)?o="pdf":"#"===s.charAt(0)&&(o="inline"),i.type=o),i.index=c.group.length,i.opts.$orig&&!i.opts.$orig.length&&delete i.opts.$orig,!i.opts.$thumb&&i.opts.$orig&&(i.opts.$thumb=i.opts.$orig.find("img:first")),i.opts.$thumb&&!i.opts.$thumb.length&&delete i.opts.$thumb,"function"===b.type(i.opts.caption)?i.opts.caption=i.opts.caption.apply(e,[c,i]):"caption"in r?i.opts.caption=r.caption:a.$orig&&(i.opts.caption=n.attr("title")),i.opts.caption=i.opts.caption===y?"":i.opts.caption+"","auto"==i.opts.smallBtn&&(i.opts.smallBtn=!1),i.opts.modal&&b.extend(!0,i.opts,{infobar:0,buttons:0,keyboard:0,slideShow:0,fullScreen:0,closeClickOutside:0}),c.group.push(i)})},addEvents:function(){var o=this;o.removeEvents(),o.$refs.container.on("click.umfb-close","[data-umfancybox-close]",function(t){t.stopPropagation(),t.preventDefault(),o.close(t)}).on("click.umfb-previous","[data-umfancybox-previous]",function(t){t.stopPropagation(),t.preventDefault(),o.previous()}).on("click.umfb-next","[data-umfancybox-next]",function(t){t.stopPropagation(),t.preventDefault(),o.next()}),b(m).on("orientationchange.umfb resize.umfb",function(t){v(function(){t&&t.originalEvent&&"resize"===t.originalEvent.type?o.update():(o.$refs.slider_wrap.hide(),v(function(){o.$refs.slider_wrap.show(),o.update()}))})}),i.on("focusin.umfb",function(t){var e=b.umfancybox?b.umfancybox.getInstance():null;!e||b(t.target).hasClass("umfancybox-container")||b.contains(e.$refs.container[0],t.target)||(t.stopPropagation(),e.focus(),u.scrollTop(o.scrollTop).scrollLeft(o.scrollLeft))}),i.on("keydown.umfb",function(t){var e=o.current,n=t.keyCode||t.which;if(e&&e.opts.keyboard&&!b(t.target).is("input")&&!b(t.target).is("textarea")){if(8===n||27===n)return t.preventDefault(),void o.close(t);switch(n){case 37:case 38:t.preventDefault(),o.previous();break;case 39:case 40:t.preventDefault(),o.next();break;case 80:case 32:t.preventDefault(),o.UmSlideShow&&(t.preventDefault(),o.UmSlideShow.toggle());break;case 70:o.FullScreen&&(t.preventDefault(),o.FullScreen.toggle());break;case 71:o.Thumbs&&(t.preventDefault(),o.Thumbs.toggle())}}})},removeEvents:function(){u.off("scroll.umfb resize.umfb orientationchange.umfb"),i.off("keydown.umfb focusin.umfb click.umfb-close"),this.$refs.container.off("click.umfb-close click.umfb-previous click.umfb-next")},previous:function(t){this.jumpTo(this.currIndex-1,t)},next:function(t){this.jumpTo(this.currIndex+1,t)},jumpTo:function(t,e){var n,o,s,i,a=this;if(n=a.firstRun=null===a.firstRun,o=s=t=parseInt(t,10),i=!!a.current&&a.current.opts.loop,!a.isAnimating&&(o!=a.currIndex||n)){if(1<a.group.length&&i)o=(o%=a.group.length)<0?a.group.length+o:o,2==a.group.length?s=t-a.currIndex+a.currPos:(s=o-a.currIndex+a.currPos,Math.abs(a.currPos-(s+a.group.length))<Math.abs(a.currPos-s)?s+=a.group.length:Math.abs(a.currPos-(s-a.group.length))<Math.abs(a.currPos-s)&&(s-=a.group.length));else if(!a.group[o])return void a.update(!1,!1,e);a.current&&(a.current.$slide.removeClass("umfancybox-slide--current umfancybox-slide--complete"),a.updateSlide(a.current,!0)),a.prevIndex=a.currIndex,a.prevPos=a.currPos,a.currIndex=o,a.currPos=s,a.current=a.createSlide(s),1<a.group.length&&((a.opts.loop||0<=s-1)&&a.createSlide(s-1),(a.opts.loop||s+1<a.group.length)&&a.createSlide(s+1)),a.current.isMoved=!1,a.current.isComplete=!1,e=parseInt(e===y?1.5*a.current.opts.speed:e,10),a.trigger("beforeMove"),a.updateControls(),n&&(a.current.$slide.addClass("umfancybox-slide--current"),a.$refs.container.show(),v(function(){a.$refs.bg.css("transition-duration",a.current.opts.speed+"ms"),a.$refs.container.addClass("umfancybox-container--ready")})),a.update(!0,!1,n?0:e,function(){a.afterMove()}),a.loadSlide(a.current),n&&a.current.$ghost||a.preload()}},createSlide:function(t){var e,n,o,s=this;if(n=(n=t%s.group.length)<0?s.group.length+n:n,!s.slides[t]&&s.group[n]){if(s.opts.loop&&2<s.group.length)for(var i in s.slides)if(s.slides[i].index===n)return(o=s.slides[i]).pos=t,s.slides[t]=o,delete s.slides[i],s.updateSlide(o),o;e=b('<div class="umfancybox-slide"></div>').appendTo(s.$refs.slider),s.slides[t]=b.extend(!0,{},s.group[n],{pos:t,$slide:e,isMoved:!1,isLoaded:!1})}return s.slides[t]},zoomInOut:function(e,t,n){var o,s,i,a,r,c=this,l=c.current,u=l.$placeholder,h=l.opts.opacity,d=l.opts.$thumb,p=d?d.offset():0,f=l.$slide.offset();return!!(u&&l.isMoved&&p&&(a=d,"function"==typeof b&&a instanceof b&&(a=a[0]),0<(r=a.getBoundingClientRect()).bottom&&0<r.right&&r.left<(m.innerWidth||g.documentElement.clientWidth)&&r.top<(m.innerHeight||g.documentElement.clientHeight)))&&(!("In"===e&&!c.firstRun)&&(b.umfancybox.stop(u),c.isAnimating=!0,o={top:p.top-f.top+parseFloat(d.css("border-top-width")||0),left:p.left-f.left+parseFloat(d.css("border-left-width")||0),width:d.width(),height:d.height(),scaleX:1,scaleY:1},"auto"==h&&(h=.1<Math.abs(l.width/l.height-o.width/o.height)),"In"===e?(s=o,(i=c.getFitPos(l)).scaleX=i.width/s.width,i.scaleY=i.height/s.height,h&&(s.opacity=.1,i.opacity=1)):(s=b.umfancybox.getTranslate(u),i=o,l.$ghost&&(l.$ghost.show(),l.$image&&l.$image.remove()),s.scaleX=s.width/i.width,s.scaleY=s.height/i.height,s.width=i.width,s.height=i.height,h&&(i.opacity=0)),c.updateCursor(i.width,i.height),delete i.width,delete i.height,b.umfancybox.setTranslate(u,s),u.show(),c.trigger("beforeZoom"+e),u.css("transition","all "+t+"ms"),b.umfancybox.setTranslate(u,i),setTimeout(function(){var t;u.css("transition","none"),(t=b.umfancybox.getTranslate(u)).scaleX=1,t.scaleY=1,b.umfancybox.setTranslate(u,t),c.trigger("afterZoom"+e),n.apply(c),c.isAnimating=!1},t),!0))},canPan:function(){var t=this.current,e=t.$placeholder,n=!1;return e&&(n=this.getFitPos(t),n=1<Math.abs(e.width()-n.width)||1<Math.abs(e.height()-n.height)),n},isScaledDown:function(){var t=this.current,e=t.$placeholder,n=!1;return e&&(n=(n=b.umfancybox.getTranslate(e)).width<t.width||n.height<t.height),n},scaleToActual:function(t,e,n){var o,s,i,a,r,c=this,l=c.current,u=l.$placeholder,h=parseInt(l.$slide.width(),10),d=parseInt(l.$slide.height(),10),p=l.width,f=l.height;u&&(c.isAnimating=!0,t=t===y?.5*h:t,e=e===y?.5*d:e,a=p/(o=b.umfancybox.getTranslate(u)).width,r=f/o.height,s=.5*h-.5*p,i=.5*d-.5*f,h<p&&(0<(s=o.left*a-(t*a-t))&&(s=0),s<h-p&&(s=h-p)),d<f&&(0<(i=o.top*r-(e*r-e))&&(i=0),i<d-f&&(i=d-f)),c.updateCursor(p,f),b.umfancybox.animate(u,null,{top:i,left:s,scaleX:a,scaleY:r},n||l.opts.speed,function(){c.isAnimating=!1}))},scaleToFit:function(t){var e,n=this,o=n.current,s=o.$placeholder;s&&(n.isAnimating=!0,e=n.getFitPos(o),n.updateCursor(e.width,e.height),b.umfancybox.animate(s,null,{top:e.top,left:e.left,scaleX:e.width/s.width(),scaleY:e.height/s.height()},t||o.opts.speed,function(){n.isAnimating=!1}))},getFitPos:function(t){var e,n,o,s,i,a=t.$placeholder||t.$content,r=t.width,c=t.height,l=t.opts.margin;return!(!a||!a.length||!r&&!c)&&("number"===b.type(l)&&(l=[l,l]),2==l.length&&(l=[l[0],l[1],l[0],l[1]]),u.width()<800&&(l=[0,0,0,0]),e=parseInt(t.$slide.width(),10)-(l[1]+l[3]),n=parseInt(t.$slide.height(),10)-(l[0]+l[2]),o=Math.min(1,e/r,n/c),s=Math.floor(o*r),i=Math.floor(o*c),{top:Math.floor(.5*(n-i))+l[0],left:Math.floor(.5*(e-s))+l[3],width:s,height:i})},update:function(t,n,e,o){var s,i=this;!0!==i.isAnimating&&i.current&&(s=i.current.pos*Math.floor(i.current.$slide.width())*-1-i.current.pos*i.current.opts.gutter,e=parseInt(e,10)||0,b.umfancybox.stop(i.$refs.slider),!1===t?i.updateSlide(i.current,n):b.each(i.slides,function(t,e){i.updateSlide(e,n)}),e?b.umfancybox.animate(i.$refs.slider,null,{top:0,left:s},e,function(){i.current.isMoved=!0,"function"===b.type(o)&&o.apply(i)}):(b.umfancybox.setTranslate(i.$refs.slider,{top:0,left:s}),i.current.isMoved=!0,"function"===b.type(o)&&o.apply(i)))},updateSlide:function(t,e){var n,o=this,s=t.$placeholder;(t=t||o.current)&&!o.isClosing&&((n=t.pos*Math.floor(t.$slide.width())+t.pos*t.opts.gutter)!==t.leftPos&&(b.umfancybox.setTranslate(t.$slide,{top:0,left:n}),t.leftPos=n),!1!==e&&s&&(b.umfancybox.setTranslate(s,o.getFitPos(t)),t.pos===o.currPos&&o.updateCursor()),t.$slide.trigger("refresh"),o.trigger("onUpdate",t))},updateCursor:function(t,e){var n=this,o=n.$refs.container.removeClass("umfancybox-controls--canzoomIn umfancybox-controls--canzoomOut umfancybox-controls--canGrab");!n.isClosing&&n.opts.touch&&((t!==y&&e!==y?t<n.current.width&&e<n.current.height:n.isScaledDown())?o.addClass("umfancybox-controls--canzoomIn"):n.group.length<2?o.addClass("umfancybox-controls--canzoomOut"):o.addClass("umfancybox-controls--canGrab"))},loadSlide:function(t){var e;if(t&&!t.isLoaded&&!t.isLoading)return t.isLoading=!0,this.trigger("beforeLoad",t),e=t.type,t.$slide.off("refresh").trigger("onReset").addClass("umfancybox-slide--"+(e||"unknown")).addClass(t.opts.slideClass),this.setImage(t),!0},setImage:function(t){var e,n,o,s,i=this,a=t.opts.image.srcset;if(!t.isLoaded||t.hasError){if(a){o=m.devicePixelRatio||1,s=m.innerWidth*o,(n=a.split(",").map(function(t){var o={};return t.trim().split(/\s+/).forEach(function(t,e){var n=parseInt(t.substring(0,t.length-1),10);if(0===e)return o.url=t;n&&(o.value=n,o.postfix=t[t.length-1])}),o})).sort(function(t,e){return t.value-e.value});for(var r=0;r<n.length;r++){var c=n[r];if("w"===c.postfix&&c.value>=s||"x"===c.postfix&&c.value>=o){e=c;break}}!e&&n.length&&(e=n[n.length-1]),e&&(t.src=e.url,t.width&&t.height&&"w"==e.postfix&&(t.height=t.width/t.height*e.value,t.width=e.value))}t.$placeholder=b('<div class="umfancybox-placeholder"></div>').hide().appendTo(t.$slide),!1!==t.opts.preload&&t.opts.width&&t.opts.height&&(t.opts.thumb||t.opts.$thumb)?(t.width=t.opts.width,t.height=t.opts.height,t.$ghost=b("<img />").one("load error",function(){i.isClosing||(b("<img/>")[0].src=t.src,i.revealImage(t,function(){i.setBigImage(t),i.firstRun&&t.index===i.currIndex&&i.preload()}))}).addClass("umfancybox-image").appendTo(t.$placeholder).attr("src",t.opts.thumb||t.opts.$thumb.attr("src"))):i.setBigImage(t)}else i.afterLoad(t)},setBigImage:function(t){var e=this,n=b("<img />");t.$image=n.one("error",function(){e.setError(t)}).one("load",function(){clearTimeout(t.timouts),t.timouts=null,e.isClosing||(t.width=this.naturalWidth,t.height=this.naturalHeight,t.opts.image.srcset&&n.attr("sizes","100vw").attr("srcset",t.opts.image.srcset),e.afterLoad(t),t.$ghost&&(t.timouts=setTimeout(function(){t.$ghost.hide()},350)))}).addClass("umfancybox-image").attr("src",t.src).appendTo(t.$placeholder),n[0].complete?n.trigger("load"):n[0].error?n.trigger("error"):t.timouts=setTimeout(function(){n[0].complete||t.hasError||e.showLoading(t)},150),t.opts.image.protect&&b('<div class="umfancybox-spaceball"></div>').appendTo(t.$placeholder).on("contextmenu.umfb",function(t){return 2==t.button&&t.preventDefault(),!0})},revealImage:function(t,e){var n=this;e=e||b.noop,"image"!==t.type||t.hasError||!0===t.isRevealed?e.apply(n):(t.isRevealed=!0,t.pos===n.currPos&&n.zoomInOut("In",t.opts.speed,e)||(t.$ghost&&!t.isLoaded&&n.updateSlide(t,!0),t.pos===n.currPos?b.umfancybox.animate(t.$placeholder,{opacity:0},{opacity:1},300,e):t.$placeholder.show(),e.apply(n)))},setContent:function(e,n){this.isClosing||(this.hideLoading(e),e.$slide.empty(),o(n)&&n.parent().length?(n.data("placeholder")&&n.parents(".umfancybox-slide").trigger("onReset"),n.data({placeholder:b("<div></div>").hide().insertAfter(n)}).css("display","inline-block")):("string"===b.type(n)&&3===(n=b("<div>").append(n).contents())[0].nodeType&&(n=b("<div>").html(n)),e.opts.selector&&(n=b("<div>").html(n).find(e.opts.selector))),e.$slide.one("onReset",function(){var t=o(n)?n.data("placeholder"):0;t&&(n.hide().replaceAll(t),n.data("placeholder",null)),e.hasError||(b(this).empty(),e.isLoaded=!1)}),e.$content=b(n).appendTo(e.$slide),!0===e.opts.smallBtn&&e.$content.find(".umfancybox-close-small").remove().end().eq(0).append(e.opts.closeTpl),this.afterLoad(e))},setError:function(t){t.hasError=!0,this.setContent(t,t.opts.errorTpl)},showLoading:function(t){(t=t||this.current)&&!t.$spinner&&(t.$spinner=b(this.opts.spinnerTpl).appendTo(t.$slide))},hideLoading:function(t){(t=t||this.current)&&t.$spinner&&(t.$spinner.remove(),delete t.$spinner)},afterMove:function(){var n=this,t=n.current,o={};t&&(t.$slide.siblings().trigger("onReset"),b.each(n.slides,function(t,e){e.pos>=n.currPos-1&&e.pos<=n.currPos+1?o[e.pos]=e:e&&e.$slide.remove()}),n.slides=o,n.trigger("afterMove"),t.isLoaded&&n.complete())},afterLoad:function(t){var e=this;e.isClosing||(t.isLoading=!1,t.isLoaded=!0,e.trigger("afterLoad",t),e.hideLoading(t),t.$ghost||e.updateSlide(t,!0),t.index===e.currIndex&&t.isMoved?e.complete():t.$ghost||e.revealImage(t))},complete:function(){var t=this,e=t.current;t.revealImage(e,function(){e.isComplete=!0,e.$slide.addClass("umfancybox-slide--complete"),t.updateCursor(),t.trigger("onComplete")})},preload:function(){var t,e,n=this;n.group.length<2||(t=n.slides[n.currPos+1],e=n.slides[n.currPos-1],t&&"image"===t.type&&n.loadSlide(t),e&&"image"===e.type&&n.loadSlide(e))},focus:function(){var t,e=this.current;(t=e&&e.isComplete?e.$slide.find('button,:input,[tabindex],a:not(".disabled")').filter(":visible:first"):null)&&t.length||(t=this.$refs.container),t.focus(),this.$refs.slider_wrap.scrollLeft(0),e&&e.$slide.scrollTop(0)},activate:function(){var e=this;b(".umfancybox-container").each(function(){var t=b(this).data("FancyBox");t&&t.uid!==e.uid&&!t.isClosing&&t.trigger("onDeactivate")}),e.current&&(0<e.$refs.container.index()&&e.$refs.container.prependTo(g.body),e.updateControls()),e.trigger("onActivate"),e.addEvents()},close:function(t){var e=this,n=e.current,o=n.opts.speed,s=b.proxy(function(){e.cleanUp(t)},this);return!e.isAnimating&&!e.isClosing&&(!1===e.trigger("beforeClose",t)?(b.umfancybox.stop(e.$refs.slider),void v(function(){e.update(!0,!0,150)})):(e.isClosing=!0,n.timouts&&clearTimeout(n.timouts),!0!==t&&b.umfancybox.stop(e.$refs.slider),e.$refs.container.removeClass("umfancybox-container--active").addClass("umfancybox-container--closing"),n.$slide.removeClass("umfancybox-slide--complete").siblings().remove(),n.isMoved||n.$slide.css("overflow","visible"),e.removeEvents(),e.hideLoading(n),e.hideControls(),e.updateCursor(),e.$refs.bg.css("transition-duration",o+"ms"),this.$refs.container.removeClass("umfancybox-container--ready"),void(!0===t?setTimeout(s,o):e.zoomInOut("Out",o,s)||b.umfancybox.animate(e.$refs.container,null,{opacity:0},o,"easeInSine",s))))},cleanUp:function(t){var e,n=this;n.$refs.slider.children().trigger("onReset"),n.$refs.container.empty().remove(),n.trigger("afterClose",t),n.current=null,(e=b.umfancybox.getInstance())?e.activate():(b("html").removeClass("umfancybox-enabled"),b("body").removeAttr("style"),u.scrollTop(n.scrollTop).scrollLeft(n.scrollLeft),b("#umfancybox-noscroll").remove()),n.$lastFocus&&n.$lastFocus.focus()},trigger:function(t,e){var n,o=Array.prototype.slice.call(arguments,1),s=e&&e.opts?e:this.current;if(s?o.unshift(s):s=this,o.unshift(this),b.isFunction(s.opts[t])&&(n=s.opts[t].apply(s,o)),!1===n)return n;"afterClose"===t?b(g).trigger(t+".umfb",o):this.$refs.container.trigger(t+".umfb",o)},toggleControls:function(t){this.isHiddenControls?this.updateControls(t):this.hideControls()},hideControls:function(){this.isHiddenControls=!0,this.$refs.container.removeClass("umfancybox-show-controls"),this.$refs.container.removeClass("umfancybox-show-caption")},updateControls:function(t){var e=this,n=e.$refs.container,o=e.$refs.caption,s=e.current,i=s.index,a=s.opts,r=a.caption;this.isHiddenControls&&!0!==t||(this.isHiddenControls=!1,n.addClass("umfancybox-show-controls").toggleClass("umfancybox-show-infobar",!!a.infobar&&1<e.group.length).toggleClass("umfancybox-show-buttons",!!a.buttons).toggleClass("umfancybox-is-modal",!!a.modal),b(".umfancybox-button--left",n).toggleClass("umfancybox-button--disabled",!a.loop&&i<=0),b(".umfancybox-button--right",n).toggleClass("umfancybox-button--disabled",!a.loop&&i>=e.group.length-1),b(".umfancybox-button--play",n).toggle(!!(a.slideShow&&1<e.group.length)),b(".umfancybox-button--close",n).toggle(!!a.closeBtn),b(".js-umfancybox-count",n).html(e.group.length),b(".js-umfancybox-index",n).html(i+1),s.$slide.trigger("refresh"),o&&o.empty(),r&&r.length?(o.html(r),this.$refs.container.addClass("umfancybox-show-caption "),e.$caption=o):this.$refs.container.removeClass("umfancybox-show-caption"))}}),b.umfancybox={version:"3.0.47",defaults:s,getInstance:function(t){var e=b('.umfancybox-container:not(".umfancybox-container--closing"):first').data("FancyBox"),n=Array.prototype.slice.call(arguments,1);return e instanceof r&&("string"===b.type(t)?e[t].apply(e,n):"function"===b.type(t)&&t.apply(e,n),e)},open:function(t,e,n){return new r(t,e,n)},close:function(t){var e=this.getInstance();e&&(e.close(),!0===t&&this.close())},isTouch:g.createTouch!==y&&/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),use3d:(t=g.createElement("div"),m.getComputedStyle(t).getPropertyValue("transform")&&!(g.documentMode&&g.documentMode<=11)),getTranslate:function(t){var e,n;return!(!t||!t.length)&&(e=t.get(0).getBoundingClientRect(),{top:(n=(n=(n=t.eq(0).css("transform"))&&-1!==n.indexOf("matrix")?(n=(n=n.split("(")[1]).split(")")[0]).split(","):[]).length?(n=10<n.length?[n[13],n[12],n[0],n[5]]:[n[5],n[4],n[0],n[3]]).map(parseFloat):[0,0,1,1])[0],left:n[1],scaleX:n[2],scaleY:n[3],opacity:parseFloat(t.css("opacity")),width:e.width,height:e.height})},setTranslate:function(t,e){var n="",o={};if(t&&e)return e.left===y&&e.top===y||(n=(e.left===y?t.position().top:e.left)+"px, "+(e.top===y?t.position().top:e.top)+"px",n=this.use3d?"translate3d("+n+", 0px)":"translate("+n+")"),e.scaleX!==y&&e.scaleY!==y&&(n=(n.length?n+" ":"")+"scale("+e.scaleX+", "+e.scaleY+")"),n.length&&(o.transform=n),e.opacity!==y&&(o.opacity=e.opacity),e.width!==y&&(o.width=e.width),e.height!==y&&(o.height=e.height),t.css(o)},easing:{easeOutCubic:function(t,e,n,o){return n*((t=t/o-1)*t*t+1)+e},easeInCubic:function(t,e,n,o){return n*(t/=o)*t*t+e},easeOutSine:function(t,e,n,o){return n*Math.sin(t/o*(Math.PI/2))+e},easeInSine:function(t,e,n,o){return-n*Math.cos(t/o*(Math.PI/2))+n+e}},stop:function(t){t.removeData("animateID")},animate:function(n,o,s,i,a,t){var r,c,l,u=this,h=null,d=0,p=function(){s.scaleX!==y&&s.scaleY!==y&&o&&o.width!==y&&o.height!==y&&(s.width=o.width*s.scaleX,s.height=o.height*s.scaleY,s.scaleX=1,s.scaleY=1),u.setTranslate(n,s),t()},f=function(t){if(r=[],c=0,n.length&&n.data("animateID")===l)if(t=t||Date.now(),h&&(c=t-h),h=t,i<=(d+=c))p();else{for(var e in s)s.hasOwnProperty(e)&&o[e]!==y&&(o[e]==s[e]?r[e]=s[e]:r[e]=u.easing[a](d,o[e],s[e]-o[e],i));u.setTranslate(n,r),v(f)}};u.animateID=l=u.animateID===y?1:u.animateID+1,n.data("animateID",l),t===y&&"function"==b.type(a)&&(t=a,a=y),a||(a="easeOutCubic"),t=t||b.noop,o?this.setTranslate(n,o):o=this.getTranslate(n),i?(n.show(),v(f)):p()}},b.fn.umfancybox=function(t){return this.off("click.umfb-start").on("click.umfb-start",{items:this,options:t||{}},e),this},b(g).on("click.umfb-start","[data-umfancybox]",e)}(window,document,window.jQuery),function(p){"use strict";var f=function(n,t,e){if(n)return e=e||"","object"===p.type(e)&&(e=p.param(e,!0)),p.each(t,function(t,e){n=n.replace("$"+t,e||"")}),e.length&&(n+=(0<n.indexOf("?")?"&":"?")+e),n};p(document).on("onInit.umfb",function(t,e){p.each(e.group,function(t,s){var i,a,r,c,l,u,h=s.src||"",d=!1;s.type||(p.each(media,function(t,e){if(a=h.match(e.matcher),l={},u=t,a){if(d=e.type,e.paramPlace&&a[e.paramPlace]){"?"==(c=a[e.paramPlace])[0]&&(c=c.substring(1)),c=c.split("&");for(var n=0;n<c.length;++n){var o=c[n].split("=",2);2==o.length&&(l[o[0]]=decodeURIComponent(o[1].replace(/\+/g," ")))}}return r=p.extend(!0,{},e.params,s.opts[t],l),h="function"===p.type(e.url)?e.url.call(this,a,r,s):f(e.url,a,r),i="function"===p.type(e.thumb)?e.thumb.call(this,a,r,s):f(e.thumb,a),"vimeo"===u&&(h=h.replace("&%23","#")),!1}}),d&&(s.src=h,s.type=d,s.opts.thumb||s.opts.$thumb&&s.opts.$thumb.length||(s.opts.thumb=i)))})})}(window.jQuery),function(f,t,m){"use strict";var g=f.requestAnimationFrame||f.webkitRequestAnimationFrame||f.mozRequestAnimationFrame||function(t){f.setTimeout(t,1e3/60)},r=function(t){var e=[];for(var n in t=(t=t.originalEvent||t||f.e).touches&&t.touches.length?t.touches:t.changedTouches&&t.changedTouches.length?t.changedTouches:[t])t[n].pageX?e.push({x:t[n].pageX,y:t[n].pageY}):t[n].clientX&&e.push({x:t[n].clientX,y:t[n].clientY});return e},b=function(t,e,n){return e&&t?"x"===n?t.x-e.x:"y"===n?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0},i=function(t){return t.is("a")||t.is("button")||t.is("input")||t.is("select")||t.is("textarea")||m.isFunction(t.get(0).onclick)},n=function(t){var e=this;e.instance=t,e.$wrap=t.$refs.slider_wrap,e.$slider=t.$refs.slider,e.$container=t.$refs.container,e.destroy(),e.$wrap.on("touchstart.umfb mousedown.umfb",m.proxy(e,"ontouchstart"))};n.prototype.destroy=function(){this.$wrap.off("touchstart.umfb mousedown.umfb touchmove.umfb mousemove.umfb touchend.umfb touchcancel.umfb mouseup.umfb mouseleave.umfb")},n.prototype.ontouchstart=function(t){var e=this,n=m(t.target),o=e.instance.current,s=o.$content||o.$placeholder;return e.startPoints=r(t),e.$target=n,e.$content=s,e.canvasWidth=Math.round(o.$slide[0].clientWidth),e.canvasHeight=Math.round(o.$slide[0].clientHeight),(e.startEvent=t).originalEvent.clientX>e.canvasWidth+o.$slide.offset().left||(i(n)||i(n.parent())||function(t){for(var e,n,o,s,i,a=!1;e=t.get(0),n=f.getComputedStyle(e)["overflow-y"],o=f.getComputedStyle(e)["overflow-x"],s=("scroll"===n||"auto"===n)&&e.scrollHeight>e.clientHeight,i=("scroll"===o||"auto"===o)&&e.scrollWidth>e.clientWidth,!(a=s||i)&&(t=t.parent()).length&&!t.hasClass("umfancybox-slider")&&!t.is("body"););return a}(n)?void 0:o.opts.touch?void(t.originalEvent&&2==t.originalEvent.button||(t.stopPropagation(),t.preventDefault(),!o||e.instance.isAnimating||e.instance.isClosing||!e.startPoints||1<e.startPoints.length&&!o.isMoved||(e.$wrap.off("touchmove.umfb mousemove.umfb",m.proxy(e,"ontouchmove")),e.$wrap.off("touchend.umfb touchcancel.umfb mouseup.umfb mouseleave.umfb",m.proxy(e,"ontouchend")),e.$wrap.on("touchend.umfb touchcancel.umfb mouseup.umfb mouseleave.umfb",m.proxy(e,"ontouchend")),e.$wrap.on("touchmove.umfb mousemove.umfb",m.proxy(e,"ontouchmove")),e.startTime=(new Date).getTime(),e.distanceX=e.distanceY=e.distance=0,e.canTap=!1,e.isPanning=!1,e.isSwiping=!1,e.isZooming=!1,e.sliderStartPos=m.umfancybox.getTranslate(e.$slider),e.contentStartPos=m.umfancybox.getTranslate(e.$content),e.contentLastPos=null,1!==e.startPoints.length||e.isZooming||(e.canTap=o.isMoved,"image"===o.type&&(e.contentStartPos.width>e.canvasWidth+1||e.contentStartPos.height>e.canvasHeight+1)?(m.umfancybox.stop(e.$content),e.isPanning=!0):(m.umfancybox.stop(e.$slider),e.isSwiping=!0),e.$container.addClass("umfancybox-controls--isGrabbing")),2===e.startPoints.length&&o.isMoved&&!o.hasError&&"image"===o.type&&(o.isLoaded||o.$ghost)&&(e.isZooming=!0,e.isSwiping=!1,e.isPanning=!1,m.umfancybox.stop(e.$content),e.centerPointStartX=.5*(e.startPoints[0].x+e.startPoints[1].x)-m(f).scrollLeft(),e.centerPointStartY=.5*(e.startPoints[0].y+e.startPoints[1].y)-m(f).scrollTop(),e.percentageOfImageAtPinchPointX=(e.centerPointStartX-e.contentStartPos.left)/e.contentStartPos.width,e.percentageOfImageAtPinchPointY=(e.centerPointStartY-e.contentStartPos.top)/e.contentStartPos.height,e.startDistanceBetweenFingers=b(e.startPoints[0],e.startPoints[1]))))):(e.endPoints=e.startPoints,e.ontap()))},n.prototype.ontouchmove=function(t){var e=this;t.preventDefault(),e.newPoints=r(t),e.newPoints&&e.newPoints.length&&(e.distanceX=b(e.newPoints[0],e.startPoints[0],"x"),e.distanceY=b(e.newPoints[0],e.startPoints[0],"y"),e.distance=b(e.newPoints[0],e.startPoints[0]),0<e.distance&&(e.isSwiping?e.onSwipe():e.isPanning?e.onPan():e.isZooming&&e.onZoom()))},n.prototype.onSwipe=function(){var t,e=this,n=e.isSwiping,o=e.sliderStartPos.left;!0===n?10<Math.abs(e.distance)&&(e.instance.group.length<2?e.isSwiping="y":!e.instance.current.isMoved||!1===e.instance.opts.touch.vertical||"auto"===e.instance.opts.touch.vertical&&800<m(f).width()?e.isSwiping="x":(t=Math.abs(180*Math.atan2(e.distanceY,e.distanceX)/Math.PI),e.isSwiping=45<t&&t<135?"y":"x"),e.canTap=!1,e.instance.current.isMoved=!1,e.startPoints=e.newPoints):("x"==n&&(!e.instance.current.opts.loop&&0===e.instance.current.index&&0<e.distanceX?o+=Math.pow(e.distanceX,.8):!e.instance.current.opts.loop&&e.instance.current.index===e.instance.group.length-1&&e.distanceX<0?o-=Math.pow(-e.distanceX,.8):o+=e.distanceX),e.sliderLastPos={top:"x"==n?0:e.sliderStartPos.top+e.distanceY,left:o},g(function(){m.umfancybox.setTranslate(e.$slider,e.sliderLastPos)}))},n.prototype.onPan=function(){var t,e,n,o=this;o.canTap=!1,t=o.contentStartPos.width>o.canvasWidth?o.contentStartPos.left+o.distanceX:o.contentStartPos.left,e=o.contentStartPos.top+o.distanceY,(n=o.limitMovement(t,e,o.contentStartPos.width,o.contentStartPos.height)).scaleX=o.contentStartPos.scaleX,n.scaleY=o.contentStartPos.scaleY,o.contentLastPos=n,g(function(){m.umfancybox.setTranslate(o.$content,o.contentLastPos)})},n.prototype.limitMovement=function(t,e,n,o){var s,i,a,r,c=this,l=c.canvasWidth,u=c.canvasHeight,h=c.contentStartPos.left,d=c.contentStartPos.top,p=c.distanceX,f=c.distanceY;return s=Math.max(0,.5*l-.5*n),i=Math.max(0,.5*u-.5*o),a=Math.min(l-n,.5*l-.5*n),r=Math.min(u-o,.5*u-.5*o),l<n&&(0<p&&s<t&&(t=s-1+Math.pow(-s+h+p,.8)||0),p<0&&t<a&&(t=a+1-Math.pow(a-h-p,.8)||0)),u<o&&(0<f&&i<e&&(e=i-1+Math.pow(-i+d+f,.8)||0),f<0&&e<r&&(e=r+1-Math.pow(r-d-f,.8)||0)),{top:e,left:t}},n.prototype.limitPosition=function(t,e,n,o){var s=this.canvasWidth,i=this.canvasHeight;return t=s<n?(t=0<t?0:t)<s-n?s-n:t:Math.max(0,s/2-n/2),{top:e=i<o?(e=0<e?0:e)<i-o?i-o:e:Math.max(0,i/2-o/2),left:t}},n.prototype.onZoom=function(){var t=this,e=t.contentStartPos.width,n=t.contentStartPos.height,o=t.contentStartPos.left,s=t.contentStartPos.top,i=b(t.newPoints[0],t.newPoints[1])/t.startDistanceBetweenFingers,a=Math.floor(e*i),r=Math.floor(n*i),c=(e-a)*t.percentageOfImageAtPinchPointX,l=(n-r)*t.percentageOfImageAtPinchPointY,u=(t.newPoints[0].x+t.newPoints[1].x)/2-m(f).scrollLeft(),h=(t.newPoints[0].y+t.newPoints[1].y)/2-m(f).scrollTop(),d=u-t.centerPointStartX,p={top:s+(l+(h-t.centerPointStartY)),left:o+(c+d),scaleX:t.contentStartPos.scaleX*i,scaleY:t.contentStartPos.scaleY*i};t.canTap=!1,t.newWidth=a,t.newHeight=r,t.contentLastPos=p,g(function(){m.umfancybox.setTranslate(t.$content,t.contentLastPos)})},n.prototype.ontouchend=function(t){var e=this,n=e.instance.current,o=Math.max((new Date).getTime()-e.startTime,1),s=e.isSwiping,i=e.isPanning,a=e.isZooming;if(e.endPoints=r(t),e.$container.removeClass("umfancybox-controls--isGrabbing"),e.$wrap.off("touchmove.umfb mousemove.umfb",m.proxy(this,"ontouchmove")),e.$wrap.off("touchend.umfb touchcancel.umfb mouseup.umfb mouseleave.umfb",m.proxy(this,"ontouchend")),e.isSwiping=!1,e.isPanning=!1,e.isZooming=!1,e.canTap)return e.ontap();e.velocityX=e.distanceX/o*.5,e.velocityY=e.distanceY/o*.5,e.speed=n.opts.speed||330,e.speedX=Math.max(.75*e.speed,Math.min(1.5*e.speed,1/Math.abs(e.velocityX)*e.speed)),e.speedY=Math.max(.75*e.speed,Math.min(1.5*e.speed,1/Math.abs(e.velocityY)*e.speed)),i?e.endPanning():a?e.endZooming():e.endSwiping(s)},n.prototype.endSwiping=function(t){var e=this;"y"==t&&50<Math.abs(e.distanceY)?(m.umfancybox.animate(e.$slider,null,{top:e.sliderStartPos.top+e.distanceY+150*e.velocityY,left:e.sliderStartPos.left,opacity:0},e.speedY),e.instance.close(!0)):"x"==t&&50<e.distanceX?e.instance.previous(e.speedX):"x"==t&&e.distanceX<-50?e.instance.next(e.speedX):e.instance.update(!1,!0,150)},n.prototype.endPanning=function(){var t,e,n,o=this;o.contentLastPos&&(t=o.contentLastPos.left+o.velocityX*o.speed*2,e=o.contentLastPos.top+o.velocityY*o.speed*2,(n=o.limitPosition(t,e,o.contentStartPos.width,o.contentStartPos.height)).width=o.contentStartPos.width,n.height=o.contentStartPos.height,m.umfancybox.animate(o.$content,null,n,o.speed,"easeOutSine"))},n.prototype.endZooming=function(){var t,e,n,o,s=this,i=s.instance.current,a=s.newWidth,r=s.newHeight;s.contentLastPos&&(t=s.contentLastPos.left,o={top:e=s.contentLastPos.top,left:t,width:a,height:r,scaleX:1,scaleY:1},m.umfancybox.setTranslate(s.$content,o),a<s.canvasWidth&&r<s.canvasHeight?s.instance.scaleToFit(150):a>i.width||r>i.height?s.instance.scaleToActual(s.centerPointStartX,s.centerPointStartY,150):(n=s.limitPosition(t,e,a,r),m.umfancybox.animate(s.$content,null,n,s.speed,"easeOutSine")))},n.prototype.ontap=function(){var t=this,e=t.instance,n=e.current,o=t.endPoints[0].x,s=t.endPoints[0].y;if(o-=t.$wrap.offset().left,s-=t.$wrap.offset().top,e.UmSlideShow&&e.UmSlideShow.isActive&&e.UmSlideShow.stop(),!m.umfancybox.isTouch)return n.opts.closeClickOutside&&t.$target.is(".umfancybox-slide")?void e.close(t.startEvent):void("image"==n.type&&n.isMoved&&(e.canPan()?e.scaleToFit():e.isScaledDown()?e.scaleToActual(o,s):e.group.length<2&&e.close(t.startEvent)));if(t.tapped){if(clearTimeout(t.tapped),t.tapped=null,50<Math.abs(o-t.x)||50<Math.abs(s-t.y)||!n.isMoved)return this;"image"==n.type&&(n.isLoaded||n.$ghost)&&(e.canPan()?e.scaleToFit():e.isScaledDown()&&e.scaleToActual(o,s))}else t.x=o,t.y=s,t.tapped=setTimeout(function(){t.tapped=null,e.toggleControls(!0)},300);return this},m(t).on("onActivate.umfb",function(t,e){e&&!e.Guestures&&(e.Guestures=new n(e))}),m(t).on("beforeClose.umfb",function(t,e){e&&e.Guestures&&e.Guestures.destroy()})}(window,document,window.jQuery),function(t,e){"use strict";var n=function(t){this.instance=t,this.init()};e.extend(n.prototype,{timer:null,isActive:!1,$button:null,speed:3e3,init:function(){var t=this;t.$button=e('<button data-umfancybox-play class="umfancybox-button umfancybox-button--play" title="Slideshow (P)"></button>').appendTo(t.instance.$refs.buttons),t.instance.$refs.container.on("click","[data-umfancybox-play]",function(){t.toggle()})},set:function(){var t=this;t.instance&&t.instance.current&&(t.instance.current.opts.loop||t.instance.currIndex<t.instance.group.length-1)?t.timer=setTimeout(function(){t.instance.next()},t.instance.current.opts.slideShow.speed||t.speed):t.stop()},clear:function(){clearTimeout(this.timer),this.timer=null},start:function(){var t=this;t.stop(),t.instance&&t.instance.current&&(t.instance.current.opts.loop||t.instance.currIndex<t.instance.group.length-1)&&(t.instance.$refs.container.on({"beforeLoad.umfb.player":e.proxy(t,"clear"),"onComplete.umfb.player":e.proxy(t,"set")}),t.isActive=!0,t.instance.current.isComplete&&t.set(),t.instance.$refs.container.trigger("onPlayStart"),t.$button.addClass("umfancybox-button--pause"))},stop:function(){this.clear(),this.instance.$refs.container.trigger("onPlayEnd").off(".player"),this.$button.removeClass("umfancybox-button--pause"),this.isActive=!1},toggle:function(){this.isActive?this.stop():this.start()}}),e(t).on("onInit.umfb",function(t,e){e&&1<e.group.length&&e.opts.slideShow&&!e.UmSlideShow&&(e.UmSlideShow=new n(e))}),e(t).on("beforeClose.umfb onDeactivate.umfb",function(t,e){e&&e.UmSlideShow&&e.UmSlideShow.stop()})}(document,window.jQuery),function(i,o){"use strict";var e=function(){var t,e,n,o=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],s={};for(e=0;e<o.length;e++)if((t=o[e])&&t[1]in i){for(n=0;n<t.length;n++)s[o[0][n]]=t[n];return s}return!1}();if(e){var s={request:function(t){(t=t||i.documentElement)[e.requestFullscreen](t.ALLOW_KEYBOARD_INPUT)},exit:function(){i[e.exitFullscreen]()},toggle:function(t){this.isFullscreen()?this.exit():this.request(t)},isFullscreen:function(){return Boolean(i[e.fullscreenElement])},enabled:function(){return Boolean(i[e.fullscreenEnabled])}};o(i).on({"onInit.umfb":function(t,e){var n;e&&e.opts.fullScreen&&!e.FullScreen&&(n=e.$refs.container,e.$refs.button_fs=o('<button data-umfancybox-fullscreen class="umfancybox-button umfancybox-button--fullscreen" title="Full screen (F)"></button>').appendTo(e.$refs.buttons),n.on("click.umfb-fullscreen","[data-umfancybox-fullscreen]",function(t){t.stopPropagation(),t.preventDefault(),s.toggle(n[0])}),!0===e.opts.fullScreen.requestOnStart&&s.request(n[0]))},"beforeMove.umfb":function(t,e){e&&e.$refs.button_fs&&e.$refs.button_fs.toggle(!!e.current.opts.fullScreen)},"beforeClose.umfb":function(){s.exit()}}),o(i).on(e.fullscreenchange,function(){var t=o.umfancybox.getInstance(),e=t?t.current.$placeholder:null;e&&(e.css("transition","none"),t.isAnimating=!1,t.update(!0,!0,0))})}}(document,window.jQuery),function(t,r){"use strict";var s=function(t){this.instance=t,this.init()};r.extend(s.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,init:function(){var e=this;e.$button=r('<button data-umfancybox-thumbs class="umfancybox-button umfancybox-button--thumbs" title="Thumbnails (G)"></button>').appendTo(this.instance.$refs.buttons).on("touchend click",function(t){t.stopPropagation(),t.preventDefault(),e.toggle()})},create:function(){var n,o,t=this.instance;this.$grid=r('<div class="umfancybox-thumbs"></div>').appendTo(t.$refs.container),n="<ul>",r.each(t.group,function(t,e){(o=e.opts.thumb||(e.opts.$thumb?e.opts.$thumb.attr("src"):null))||"image"!==e.type||(o=e.src),o&&o.length&&(n+='<li data-index="'+t+'"  tabindex="0" class="umfancybox-thumbs-loading"><img data-src="'+o+'" /></li>')}),n+="</ul>",this.$list=r(n).appendTo(this.$grid).on("click touchstart","li",function(){t.jumpTo(r(this).data("index"))}),this.$list.find("img").hide().one("load",function(){var t,e,n,o,s=r(this).parent().removeClass("umfancybox-thumbs-loading"),i=s.outerWidth(),a=s.outerHeight();t=this.naturalWidth||this.width,o=(e=this.naturalHeight||this.height)/a,1<=(n=t/i)&&1<=o&&(o<n?(t/=o,e=a):(t=i,e/=n)),r(this).css({width:Math.floor(t),height:Math.floor(e),"margin-top":Math.min(0,Math.floor(.3*a-.3*e)),"margin-left":Math.min(0,Math.floor(.5*i-.5*t))}).show()}).each(function(){this.src=r(this).data("src")})},focus:function(){this.instance.current&&this.$list.children().removeClass("umfancybox-thumbs-active").filter('[data-index="'+this.instance.current.index+'"]').addClass("umfancybox-thumbs-active").focus()},close:function(){this.$grid.hide()},update:function(){this.instance.$refs.container.toggleClass("umfancybox-container--thumbs",this.isVisible),this.isVisible?(this.$grid||this.create(),this.$grid.show(),this.focus()):this.$grid&&this.$grid.hide(),this.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible?this.hide():this.show()}}),r(t).on("onInit.umfb",function(t,e){var n=e.group[0],o=e.group[1];e.opts.thumbs&&!e.Thumbs&&1<e.group.length&&("image"==n.type||n.opts.thumb||n.opts.$thumb)&&("image"==o.type||o.opts.thumb||o.opts.$thumb)&&(e.Thumbs=new s(e))}),r(t).on("beforeMove.umfb",function(t,e,n){var o=e&&e.Thumbs;o&&(n.modal?(o.$button.hide(),o.hide()):(!0===e.opts.thumbs.showOnStart&&e.firstRun&&o.show(),o.$button.show(),o.isVisible&&o.focus()))}),r(t).on("beforeClose.umfb",function(t,e){e&&e.Thumbs&&(e.Thumbs.isVisible&&!1!==e.opts.thumbs.hideOnClosing&&e.Thumbs.close(),e.Thumbs=null)})}(document,window.jQuery),function(i,a,n){"use strict";n.escapeSelector||(n.escapeSelector=function(t){return(t+"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t})});var r=null;function s(){var t=a.location.hash.substr(1),e=t.split("-"),n=1<e.length&&/^\+?\d+$/.test(e[e.length-1])&&parseInt(e.pop(-1),10)||1;return n<1&&(n=1),{hash:t,index:n,gallery:e.join("-")}}function e(t){var e;""!==t.gallery&&((e=n("[data-umfancybox='"+n.escapeSelector(t.gallery)+"']").eq(t.index-1)).length?e.trigger("click"):n("#"+n.escapeSelector(t.gallery)).trigger("click"))}function c(t){var e;return!!t&&((e=t.current?t.current.opts:t.opts).$orig?e.$orig.data("umfancybox"):e.hash||"")}n(function(){setTimeout(function(){!1!==n.umfancybox.defaults.hash&&(n(a).on("hashchange.umfb",function(){var t=s();n.umfancybox.getInstance()?r&&r!==t.gallery+"-"+t.index&&(r=null,n.umfancybox.close()):""!==t.gallery&&e(t)}),n(i).on({"onInit.umfb":function(t,e){var n=s(),o=c(e);o&&n.gallery&&o==n.gallery&&(e.currIndex=n.index-1)},"beforeMove.umfb":function(t,e,n){var o=c(e);o&&""!==o&&(a.location.hash.indexOf(o)<0&&(e.opts.origHash=a.location.hash),r=o+(1<e.group.length?"-"+(n.index+1):""),"pushState"in history?history.pushState("",i.title,a.location.pathname+a.location.search+"#"+r):a.location.hash=r)},"beforeClose.umfb":function(t,e,n){var o=c(e),s=e&&e.opts.origHash?e.opts.origHash:"";o&&""!==o&&("pushState"in history?history.pushState("",i.title,a.location.pathname+a.location.search+s):a.location.hash=s),r=null}}),e(s()))},50)})}(document,window,window.jQuery);