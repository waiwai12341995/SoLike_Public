function um_load_notifications(){jQuery.ajax({url:wp.ajax.settings.url,type:"post",dataType:"json",data:{action:"um_notification_check_update",nonce:um_scripts.nonce},success:function(i){var t=jQuery(".um-notification-b").data("show-always");if(i.refresh_count&&(jQuery(".um-notification-b").animate({bottom:"25px"}).addClass("has-new"),um_animate_bubble(),jQuery(".um-notification-live-count").html(i.refresh_count).show()),i.unread){var n=jQuery(i.unread).attr("data-notification_id");0==jQuery(".um-notification[data-notification_id="+n+"]").length?(jQuery(".um-notifications-none").hide(),jQuery(".um-notification-ajax").prepend(i.unread)):(jQuery(".um-notification[data-notification_id="+n+"]").removeClass("read").addClass("unread"),jQuery(".um-notifications-none").hide()),jQuery(".um-notification-b").animate({bottom:"25px"}).addClass("has-new"),um_animate_bubble()}else jQuery(".um-notification-live-count").html(0).hide(),1!=t&&jQuery(".um-notification-b").animate({bottom:"-220px"}).removeClass("has-new"),um_stop_bubble();0==jQuery(".um-notification.unread").length&&(jQuery(".um-notification-live-count").html(0).hide(),1!=t&&jQuery(".um-notification-b").animate({bottom:"-220px"}).removeClass("has-new"),um_stop_bubble())}})}function um_animate_bubble(){jQuery(".um-notification-b").length&&jQuery(".um-notification-b").addClass("um-effect-pop")}function um_stop_bubble(){jQuery(".um-notification-b").length&&jQuery(".um-notification-b").removeClass("um-effect-pop")}function um_notification_responsive(){var i=jQuery(window).width();i<400?jQuery(".um-notification-live-feed").css({width:i+"px"}):jQuery(".um-notification-live-feed").css({width:"400px"})}jQuery(window).resize(function(){um_notification_responsive()}),jQuery(document).ready(function(){jQuery(".um-notification-photo").on("error",function(){jQuery(this).attr("src",jQuery(this).data("default"))}),jQuery(document).on("click",".um-notification-i-close",function(i){return i.preventDefault(),jQuery(".um-notification-live-feed").hide(),!1}),um_load_notifications(),um_notifications.timer&&setInterval(um_load_notifications,um_notifications.timer),jQuery(".um-notification-ajax").length&&(jQuery(".um-notification.unread").length||jQuery(".um-notification-live-count").html(0).hide()),jQuery(document.body).on("click",".um-notification-hide a",function(){var i=jQuery(this).parents(".um-notification").attr("data-notification_id"),t=jQuery(this).parents(".um-notification-live-feed");(jQuery(this).parents(".um-notification").remove(),t.length)&&(t.find(".um-notification").length||(t.find(".um-notification-more").hide(),t.find(".um-notifications-none").show()));return jQuery.ajax({url:wp.ajax.settings.url,type:"post",data:{action:"um_notification_delete_log",notification_id:i,nonce:um_scripts.nonce},success:function(i){}}),!1}),jQuery(document.body).on("click",".um-notification:not(.none)",function(){var i=jQuery(this).attr("data-notification_uri");i&&(window.location=i)}),jQuery(document.body).on("mouseenter",".um-notification:not(.none)",function(i){if(jQuery(this).hasClass("unread")){var t=jQuery(this).attr("data-notification_id");jQuery("*[data-notification_id="+t+"]").addClass("read").removeClass("unread"),jQuery(this).addClass("read").removeClass("unread"),new_live_count=parseInt(jQuery(".um-notification-live-count").html())-1,new_live_count<0&&(new_live_count=0),jQuery(".um-notification-live-count").html(new_live_count),0==new_live_count&&(jQuery(".um-notification-live-count").html(0).hide(),um_stop_bubble()),jQuery.ajax({url:wp.ajax.settings.url,type:"post",data:{action:"um_notification_mark_as_read",notification_id:t,nonce:um_scripts.nonce},success:function(i){}})}}),jQuery(".um-notification-live-count").length&&0<parseInt(jQuery(".um-notification-live-count").html())&&jQuery(".um-notification-live-count").show(),jQuery(".um-notification-b").length&&(jQuery(".um-notification-b").hasClass("left")?jQuery(".um-notification-live-feed").css({left:"0"}):jQuery(".um-notification-live-feed").css({right:"0"}),jQuery(document.body).on("click",".um-notification-b",function(i){i.preventDefault();var t=jQuery(".um-notification-live-feed");return t.is(":hidden")?(um_notification_responsive(),t.show()):t.hide(),!1}))});